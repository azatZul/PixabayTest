//// PBTPhotosMapper// PixabayTest////  Created by azat on 26/05/16.//  Copyright (c) 2016. All rights reserved.//#import "PBTPhotosMapper.h"#import "PBTPhoto.h"@interface PBTPhotosMapper ()@end@implementation PBTPhotosMapper- (PBTPhoto *)photoFromDictionary:(NSDictionary *)dictionary{    if (!dictionary)    {        return nil;    }    PBTPhoto *photo = [PBTPhoto new];    NSDictionary *mappingRule = @{            @"id": @"photoId",            @"previewURL": @"previewURL",            @"webformatURL": @"bigFormatURL",            @"user": @"ownerName"    };    NSDictionary *collectionMappingRule = @{        @"tags": @"tags"    };    for (NSString *key in mappingRule)    {        if (![dictionary.allKeys containsObject:key])        {            continue;        }        id value = dictionary[key];        NSString *propertyKey = mappingRule[key];        // предполагаем, что в правиле нет ошибок в описании ключей класса, иначе - краш        [photo setValue:value forKey:propertyKey];    }    for (NSString *key in collectionMappingRule)    {        // в данном случае только для comma-separated строки тэгов        if (![dictionary.allKeys containsObject:key])        {            continue;        }        NSString *collectionString = dictionary[key];        NSArray *collection = [collectionString componentsSeparatedByString:@", "];        [photo setValue:collection forKey:collectionMappingRule[key]];    }    return photo;}@end