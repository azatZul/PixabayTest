//// PBTRoutesBuilder// PixabayTest////  Created by azat on 26/05/16.//  Copyright (c) 2016. All rights reserved.//#import "PBTRoutesBuilder.h"@interface PBTRoutesBuilder ()@end@implementation PBTRoutesBuilder#pragma mark - Lifecycle- (instancetype)initWithBaseURL:(NSURL *)baseURL{    self = [super init];    if (self)    {        _baseURL = baseURL;    }    return self;}#pragma mark - Routes- (NSURL *)photosListRouteWithParams:(NSDictionary *)params{    return  [self GETURLWithParams:params baseURL:self.baseURL];}#pragma mark - Private Utils- (NSURL *)GETURLWithParams:(NSDictionary *)params baseURL:(NSURL *)baseURL{    NSString *baseURLPath = baseURL.path;    NSString *encodedParams = [self urlEncodedStringFromParameters:params];    if (!encodedParams)    {        return baseURL;    }    NSString *resultPath = [NSString stringWithFormat:@"%@?%@", baseURLPath, encodedParams];    return [NSURL URLWithString:resultPath];}- (NSString*)urlEncodedStringFromParameters:(NSDictionary *)params{    if (!params)    {        return nil;    }    NSMutableArray *parts = [NSMutableArray array];    for (id key in params) {        id value = params[key];        NSString *encodedKey = [self encodedStringFrom:[key description]];        NSString *encodedValue = [self encodedStringFrom:[value description]];        NSString *part = [NSString stringWithFormat: @"%@=%@", encodedKey, encodedValue];        [parts addObject: part];    }    return [parts componentsJoinedByString: @"&"];}- (NSString *)encodedStringFrom:(NSString *)string{    return [string stringByAddingPercentEncodingWithAllowedCharacters:[NSCharacterSet URLHostAllowedCharacterSet]];}@end