//// PBTPhotoFetchNetworkClient// PixabayTest////  Created by azat on 28/05/16.//  Copyright (c) 2016. All rights reserved.//#import <SDWebImage/SDWebImageManager.h>#import "PBTPhotoFetchNetworkClient.h"#import "PBTRequest.h"@interface PBTPhotoFetchNetworkClient ()@property (nonatomic, strong) SDWebImageManager *imageManager;@end@implementation PBTPhotoFetchNetworkClient- (id <PBTRequest>)fetchPhotoWithURL:(NSString *)url                             success:(PBTPhotosFetchSuccessBlock)successBlock                             failure:(PBTPhotosFetchFailureBlock)failure{    if (!url && url.length == 0)    {        return  nil;    }    void (^completionBlock)(UIImage *, NSError *, SDImageCacheType, BOOL, NSURL *) =            ^(UIImage *image, NSError *error, SDImageCacheType cacheType, BOOL finished, NSURL *imageURL)            {                if (error && failure)                {                    failure(error);                    return;                }                if (successBlock)                {                    successBlock(image);                }                            };    return (id <PBTRequest>)[self.imageManager downloadImageWithURL:[NSURL URLWithString:url]                                                            options:SDWebImageRetryFailed                                                           progress:nil                                                          completed:completionBlock];}@end