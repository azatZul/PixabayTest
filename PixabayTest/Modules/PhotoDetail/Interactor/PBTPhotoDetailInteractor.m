//// PBTPhotoDetailInteractor// PixabayTest////  Created by azat on 28/05/16.//  Copyright (c) 2016. All rights reserved.//#import "PBTPhotoDetailInteractor.h"#import "PBTPhotoDetailInteractorOutput.h"#import "PBTPhotoFetchService.h"#import "PBTRequest.h"#import <EXTScope.h>@interface PBTPhotoDetailInteractor()@property (nonatomic, weak) id<PBTRequest> fetchRequest;@end@implementation PBTPhotoDetailInteractor- (void)fetchImage:(NSString *)url{    @weakify(self);    void (^failure)(NSError *) = ^(NSError *error)    {        if (error.code != NSURLErrorCancelled)        {            @strongify(self);            self.fetchRequest = nil;            [self.output photoFetchFailedWith:error];        }    };    void (^success)(UIImage *) = ^(UIImage *image)    {        @strongify(self);        self.fetchRequest = nil;        [self.output photoFetched:image];    };    [self.fetchRequest cancel];    self.fetchRequest = [self.photoFetchService fetchPhotoWithURL:url                                                          success:success                                                          failure:failure];}@end